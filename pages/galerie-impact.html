<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerie & Impact - DADSAC</title>
    <!-- CSS commun -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Lightbox CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
    <style>
        .impact-hero {
            margin-top: 80px;
            height: 50vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), 
                        url('../images/impact-hero.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--light-text);
            text-align: center;
        }

        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-title {
            text-align: center;
            margin: 4rem 0 2rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 50px;
            height: 3px;
            background: var(--primary-color);
            margin: 1rem auto;
        }

        .before-after-section {
            margin: 4rem 0;
        }

        .before-after-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .comparison-card {
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
        }

        .comparison-card:hover {
            transform: translateY(-10px);
        }

        .comparison-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .comparison-card:hover .comparison-image {
            transform: scale(1.05);
        }

        .image-label {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .map-section {
            margin: 4rem 0;
            height: 500px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .impact-infographics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .infographic-card {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
        }

        .infographic-card:hover {
            transform: translateY(-10px);
        }

        .infographic-icon {
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .infographic-number {
            font-size: 3.5em;
            color: var(--primary-color);
            margin: 1rem 0;
            font-weight: bold;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius);
            cursor: pointer;
            box-shadow: var(--box-shadow);
        }

        .gallery-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-image {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 1rem;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        .video-section {
            margin: 4rem 0;
            text-align: center;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .testimonial-section {
            background: var(--light-bg);
            padding: 4rem 0;
            margin: 4rem 0;
        }

        .testimonial-slider {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        @media (max-width: 768px) {
            .before-after-container {
                grid-template-columns: 1fr;
            }

            .comparison-image {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- Le header sera injecté ici automatiquement -->

    <main>
        <section class="impact-hero">
            <div>
                <h1>Notre Impact en Images</h1>
                <p>Découvrez les changements concrets que nous apportons à Dandora</p>
            </div>
        </section>

        <div class="gallery-container">
            <section class="before-after-section">
                <h2 class="section-title">Transformation de Dandora</h2>
                <div class="before-after-container">
                    <div class="comparison-card">
                        <img src="/images/before.jpg" alt="Avant" class="comparison-image">
                        <span class="image-label">
                            <i class="fas fa-history"></i>
                            Avant
                        </span>
                    </div>
                    <div class="comparison-card">
                        <img src="/images/after.jpg" alt="Après" class="comparison-image">
                        <span class="image-label">
                            <i class="fas fa-check"></i>
                            Après
                        </span>
                    </div>
                </div>
            </section>

            <section class="map-section">
                <h2 class="section-title">Découvrez Dandora</h2>
                <div id="map"></div>
            </section>

            <section class="impact-infographics">
                <div class="infographic-card">
                    <i class="fas fa-users infographic-icon"></i>
                    <h3>Jeunes Accompagnés</h3>
                    <div class="infographic-number" data-count="150">0</div>
                    <p>depuis 2021</p>
                </div>
                <div class="infographic-card">
                    <i class="fas fa-clock infographic-icon"></i>
                    <h3>Heures d'Activités</h3>
                    <div class="infographic-number" data-count="1200">0</div>
                    <p>par an</p>
                </div>
                <div class="infographic-card">
                    <i class="fas fa-chart-line infographic-icon"></i>
                    <h3>Taux de Réussite</h3>
                    <div class="infographic-number" data-count="80">0</div>
                    <p>objectifs atteints</p>
                </div>
            </section>

            <section class="gallery-section">
                <h2 class="section-title">Galerie Photos</h2>
                <div class="gallery-grid">
                    <a href="/images/sport1.jpg" class="gallery-item" data-lightbox="gallery" data-title="Activités sportives">
                        <img src="/images/sport1.jpg" alt="Activités sportives" class="gallery-image">
                        <div class="gallery-overlay">
                            <h3>Activités sportives</h3>
                            <p>Football et développement personnel</p>
                        </div>
                    </a>
                    <!-- Répéter pour autres images -->
                </div>
            </section>

            <section class="video-section">
                <h2 class="section-title">Nos Actions en Vidéo</h2>
                <div class="video-grid">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/VIDEO_ID" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <!-- Répéter pour autres vidéos -->
                </div>
            </section>

            <section class="testimonial-section">
                <h2 class="section-title">Témoignages</h2>
                <div class="testimonial-slider">
                    <!-- Contenu des témoignages -->
                </div>
            </section>
        </div>
    </main>

    <!-- Le footer sera injecté ici automatiquement -->

    <!-- JavaScript commun -->
    <script src="/js/common.js"></script>
    <!-- Lightbox JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
    <!-- Google Maps -->
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=VOTRE_CLE_API&callback=initMap">
    </script>

    <script>
        // Animation des chiffres
        function animateNumbers() {
            document.querySelectorAll('.infographic-number').forEach(number => {
                const target = parseInt(number.getAttribute('data-count'));
                let count = 0;
                const duration = 2000; // 2 secondes
                const increment = target / (duration / 16);

                const timer = setInterval(() => {
                    count += increment;
                    if (count >= target) {
                        number.textContent = target;
                        clearInterval(timer);
                    } else {
                        number.textContent = Math.floor(count);
                    }
                }, 16);
            });
        }

        // Google Maps
        function initMap() {
            const dandora = { lat: -1.2921, lng: 36.8219 };
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 14,
                center: dandora,
                styles: [/* Styles personnalisés de la carte */]
            });

            new google.maps.Marker({
                position: dandora,
                map: map,
                title: "DADSAC Dandora"
            });
        }

        // Observer pour déclencher l'animation des chiffres
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateNumbers();
                    observer.unobserve(entry.target);
                }
            });
        });

        observer.observe(document.querySelector('.impact-infographics'));
    </script>
</body>
</html>